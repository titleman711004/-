<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>鏡頭測試</title>
    <style>
        body { font-family: sans-serif; text-align: center; background: #000; color: white; margin: 0; padding: 20px; }
        video { width: 100%; max-width: 400px; border: 2px solid #ffcc00; border-radius: 10px; background: #222; }
        .btn { background: #ffcc00; color: #000; border: none; padding: 20px 40px; font-size: 1.2rem; font-weight: bold; border-radius: 10px; margin-top: 20px; cursor: pointer; }
        #status { margin-top: 15px; color: #aaa; }
    </style>
</head>
<body>

    <h1>鏡頭測試</h1>
    <p>如果成功，下方會出現即時畫面</p>
    
    <video id="video" autoplay playsinline muted></video>
    
    <br>
    <button class="btn" onclick="startCamera()">啟動鏡頭</button>
    <div id="status">等待點擊...</div>

    <script>
        async function startCamera() {
            const video = document.getElementById('video');
            const status = document.getElementById('status');
            status.innerHTML = "正在請求權限...";

            try {
                // 請求後鏡頭
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "environment" }, 
                    audio: false 
                });
                
                video.srcObject = stream;
                status.innerHTML = "✅ 鏡頭已成功啟動！";
                console.log("Camera started successfully");
            } catch (err) {
                console.error(err);
                status.innerHTML = "❌ 失敗: " + err.name + "<br>" + err.message;
            }
        }
    </script>
</body>
</html>
